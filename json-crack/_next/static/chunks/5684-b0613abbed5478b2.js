"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5684],{75684:function(e,t,r){r.d(t,{o:function(){return et}});var n=r(11527),o=r(50959),l=r(35277),i=r(50404),s=r(96060),a=r(74530),d=r(94311),c=r(96570),h=r(92751),u=r(51115),g=r(15454),p=r(50748),m=r(60092),f=r(30534);let x=e=>document.querySelectorAll(e),j=()=>{document.querySelectorAll("foreignObject.searched, .highlight").forEach(e=>{e.classList.remove("highlight","searched")})},v=(e,t)=>{e.forEach(e=>{var t;let r=null===(t=e.parentElement)||void 0===t?void 0:t.closest("foreignObject");r&&r.classList.add("searched")}),e[t].classList.add("highlight")};var w=r(77255);let y=()=>{let e=(0,w.Z)(e=>e.viewPort),[t,r]=o.useState(0),[n,l]=o.useState(0),[i,s]=o.useState(""),[a]=(0,m.c)(i,600);return o.useEffect(()=>{if(!i){j(),r(0),l(0);return}if(!e||!a)return;let n=x("span[data-key*='".concat(a,"' i]")),o=n[t]||null;j(),o&&o.parentElement?(v(n,t),l(n.length),null==e||e.camera.centerFitElementIntoView(o.parentElement,{elementExtraMarginForZoom:400})):(r(0),l(0)),(0,f.j)("Graph","search")},[t,a,i,e]),[i,s,()=>r(e=>(e+1)%n),n,t]},b=()=>{let[e,t,r,o,l]=y();return(0,n.jsx)(u.o,{type:"search",size:"xs",id:"search-node",w:180,value:e,onChange:e=>t(e.currentTarget.value),placeholder:"Search Node",onKeyDown:(0,p.yr)([["Enter",r]]),leftSection:(0,n.jsx)(c.RB5,{}),rightSection:e&&(0,n.jsx)(i.k,{h:30,align:"center",children:(0,n.jsx)(g.x,{size:"xs",c:"dimmed",pr:"md",children:e&&"".concat(o,"/").concat(o>0?l+1:"0")})})})};var S=r(43044),C=r(30247),I=r(48199),k=r(28074),Z=r(71935),N=r(81140),E=r(34490),O=r(62716),z=r(81249),A=r(39849);let F=z.ZP.div.withConfig({componentId:"sc-8b5e8356-0"})(["position:relative;display:flex;width:100%;align-items:center;gap:4px;justify-content:space-between;height:40px;padding:4px 8px;background:",";color:",";z-index:36;border-bottom:1px solid ",";@media only screen and (max-width:320px){display:none;}"],e=>{let{theme:t}=e;return t.TOOLBAR_BG},e=>{let{theme:t}=e;return t.SILVER},e=>{let{theme:t}=e;return t.SILVER_DARK}),M=z.ZP.button.withConfig({componentId:"sc-8b5e8356-1"})(["display:",";place-content:center;font-size:12px;background:none;color:",";padding:6px;border-radius:3px;white-space:nowrap;&:hover{background-image:linear-gradient(rgba(0,0,0,0.1) 0 0);}&:hover{color:",";opacity:1;box-shadow:none;}"],e=>{let{$hide:t}=e;return t?"none":"grid"},e=>{let{theme:t}=e;return t.INTERACTIVE_NORMAL},e=>{let{theme:t}=e;return t.INTERACTIVE_HOVER}),P=(0,z.ZP)(A.S$H).withConfig({componentId:"sc-8b5e8356-2"})(["transform:rotate(",");"],e=>{let{rotate:t}=e;return"".concat(t,"deg")}),T=()=>{let e=(0,O.Z)(e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.user_metadata}),t=(0,O.Z)(e=>e.logout),r=(0,k.Z)(e=>e.setVisible),o=(null==e?void 0:e.full_name)||(null==e?void 0:e.display_name)||(null==e?void 0:e.name);return(0,n.jsxs)(Z.v,{shadow:"md",trigger:"click",closeOnItemClick:!1,withArrow:!0,children:[(0,n.jsx)(Z.v.Target,{children:(0,n.jsx)(M,{children:(0,n.jsx)(N.q,{color:e?"teal":"indigo",variant:"filled",size:20,radius:"xl",children:e&&"JC"})})}),(0,n.jsxs)(Z.v.Dropdown,{children:[e?(0,n.jsx)(Z.v.Item,{leftSection:(0,n.jsx)(N.q,{color:"indigo",alt:o,size:20,radius:"xl"}),onClick:()=>r("account")(!0),closeMenuOnClick:!0,children:(0,n.jsx)(g.x,{size:"xs",children:null!=o?o:"Account"})}):(0,n.jsx)("a",{href:"https://app.jsoncrack.com/sign-in",children:(0,n.jsx)(Z.v.Item,{leftSection:(0,n.jsx)(E.aju,{}),children:(0,n.jsx)(g.x,{size:"xs",children:"Sign in"})})}),e&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z.v.Divider,{}),(0,n.jsx)(Z.v.Item,{leftSection:(0,n.jsx)(E.xJq,{}),onClick:()=>r("review")(!0),closeMenuOnClick:!0,children:(0,n.jsx)(g.x,{size:"xs",children:"Feedback"})}),(0,n.jsx)(Z.v.Item,{leftSection:(0,n.jsx)(E.TdI,{}),onClick:()=>t(),closeMenuOnClick:!0,children:(0,n.jsx)(g.x,{size:"xs",children:"Log out"})})]})]})]})};var L=r(81488);let J=()=>{let e=(0,k.Z)(e=>e.setVisible),t=(0,I.Z)(e=>e.getContents),r=(0,I.Z)(e=>e.getFormat);return(0,n.jsxs)(Z.v,{shadow:"md",withArrow:!0,children:[(0,n.jsx)(Z.v.Target,{children:(0,n.jsx)(M,{title:"File",children:(0,n.jsxs)(i.k,{align:"center",gap:3,children:["File",(0,n.jsx)(L.YgJ,{})]})})}),(0,n.jsxs)(Z.v.Dropdown,{children:[(0,n.jsx)(Z.v.Item,{fz:12,onClick:()=>e("import")(!0),children:"Import"}),(0,n.jsx)(Z.v.Item,{fz:12,onClick:()=>{let e=document.createElement("a"),n=new Blob([t()],{type:"text/plain"});e.href=window.URL.createObjectURL(n),e.download="jsoncrack.".concat(r()),e.click(),(0,f.j)("File Menu","download",r())},children:"Export"})]})]})};var V=r(54224);let G=()=>{let[e,t]=o.useState("");return(o.useEffect(()=>{t((0,V.c)()?window.location.href.replace("widget","editor"):"https://jsoncrack.com")},[]),e)?(0,n.jsx)(M,{title:"JSON Crack",children:(0,n.jsx)(i.k,{gap:"xs",align:"center",justify:"center",children:(0,n.jsx)(C.p,{fontSize:"1.2em",href:e,target:(0,V.c)()?"_blank":"_parent"})})}):null};var R=r(67660),D=r(97793),q=r(37241);let H=()=>{let e=(0,q.Z)(e=>e.toggleGestures),t=(0,q.Z)(e=>e.toggleChildrenCount),r=(0,q.Z)(e=>e.toggleDarkMode),o=(0,q.Z)(e=>e.toggleRulers),l=(0,q.Z)(e=>e.toggleCollapseButton),s=(0,q.Z)(e=>e.toggleImagePreview),a=(0,q.Z)(e=>e.gesturesEnabled),d=(0,q.Z)(e=>e.childrenCountVisible),c=(0,q.Z)(e=>e.darkmodeEnabled),h=(0,q.Z)(e=>e.rulersEnabled),u=(0,q.Z)(e=>e.collapseButtonVisible),p=(0,q.Z)(e=>e.imagePreviewEnabled);return(0,n.jsxs)(Z.v,{shadow:"md",trigger:"click",closeOnItemClick:!1,withArrow:!0,children:[(0,n.jsx)(Z.v.Target,{children:(0,n.jsx)(M,{children:(0,n.jsx)(i.k,{gap:4,children:(0,n.jsx)(D.b9P,{size:"18"})})})}),(0,n.jsxs)(Z.v.Dropdown,{children:[(0,n.jsx)(Z.v.Item,{leftSection:(0,n.jsx)(R.IPg,{opacity:h?100:0}),onClick:()=>{o(!h),(0,f.j)("Options Menu","toggle rulers",h?"on":"off")},children:(0,n.jsx)(g.x,{size:"xs",children:"Rulers"})}),(0,n.jsx)(Z.v.Item,{leftSection:(0,n.jsx)(R.IPg,{opacity:a?100:0}),onClick:()=>{e(!a),(0,f.j)("Options Menu","toggle gestures",a?"on":"off")},children:(0,n.jsx)(g.x,{size:"xs",children:"Trackpad Gestures"})}),(0,n.jsx)(Z.v.Item,{leftSection:(0,n.jsx)(R.IPg,{opacity:d?100:0}),onClick:()=>{t(!d),(0,f.j)("Options Menu","toggle children count",d?"on":"off")},children:(0,n.jsx)(g.x,{size:"xs",children:"Item Count"})}),(0,n.jsx)(Z.v.Item,{leftSection:(0,n.jsx)(R.IPg,{opacity:p?100:0}),onClick:()=>{s(!p),(0,f.j)("Options Menu","toggle image preview",p?"on":"off")},children:(0,n.jsx)(g.x,{size:"xs",children:"Image Link Preview"})}),(0,n.jsx)(Z.v.Item,{leftSection:(0,n.jsx)(R.IPg,{opacity:u?100:0}),onClick:()=>{l(!u),(0,f.j)("Options Menu","toggle collapse button",u?"on":"off")},children:(0,n.jsx)(g.x,{size:"xs",children:"Show Expand/Collapse"})}),(0,n.jsx)(Z.v.Item,{leftSection:(0,n.jsx)(R.IPg,{opacity:c?100:0}),onClick:()=>{r(!c),(0,f.j)("Options Menu","toggle dark mode",c?"on":"off")},children:(0,n.jsx)(g.x,{size:"xs",children:"Dark Mode"})})]})]})};var _=r(22289);let U=()=>{let e=(0,k.Z)(e=>e.setVisible);return(0,n.jsxs)(Z.v,{shadow:"md",withArrow:!0,children:[(0,n.jsx)(Z.v.Target,{children:(0,n.jsx)(M,{onClick:()=>(0,f.j)("Tools Menu","toggle menu"),children:(0,n.jsxs)(i.k,{align:"center",gap:3,children:["Tools ",(0,n.jsx)(L.YgJ,{})]})})}),(0,n.jsxs)(Z.v.Dropdown,{children:[(0,n.jsx)(Z.v.Item,{fz:12,leftSection:(0,n.jsx)(D.QA0,{}),rightSection:(0,n.jsx)(E.ULV,{}),onClick:()=>{e("upgrade")(!0),(0,f.j)("Tools Menu","open","Compare Data")},children:"Compare Data"}),(0,n.jsx)(Z.v.Item,{fz:12,leftSection:(0,n.jsx)(E.lFM,{}),onClick:()=>{e("jq")(!0),(0,f.j)("Tools Menu","open","JSON Query")},children:"JSON Query (jq)"}),(0,n.jsx)(Z.v.Item,{fz:12,leftSection:(0,n.jsx)(E.gkd,{}),onClick:()=>{e("schema")(!0),(0,f.j)("Tools Menu","open","JSON Schema")},children:"JSON Schema"}),(0,n.jsx)(Z.v.Item,{fz:12,leftSection:(0,n.jsx)(_.HIx,{}),onClick:()=>{e("jwt")(!0),(0,f.j)("Tools Menu","open","Decode JWT")},children:"Decode JWT"}),(0,n.jsx)(Z.v.Item,{fz:12,leftSection:(0,n.jsx)(E.Coj,{}),onClick:()=>{e("type")(!0),(0,f.j)("Tools Menu","open","Generate Type")},children:"Generate Type"})]})]})};var Y=r(11672),B=r(72817),W=r(21633),X=r(89499);let K=()=>{var e;let{validateHiddenNodes:t}=(0,X.Z)(),[r,l]=o.useState("CTRL"),s=(0,w.Z)(e=>e.setDirection),a=(0,w.Z)(e=>e.direction),c=(0,w.Z)(e=>e.expandGraph),h=(0,w.Z)(e=>e.collapseGraph),u=(0,w.Z)(e=>e.focusFirstNode),p=(0,w.Z)(e=>e.graphCollapsed),m=(0,q.Z)(e=>e.viewMode),x=(0,q.Z)(e=>e.setViewMode),j=()=>{var e;let t="RIGHT"===(e=a||"RIGHT")?"DOWN":"DOWN"===e?"LEFT":"LEFT"===e?"UP":"RIGHT";s&&s(t)},v=()=>{p?c():h(),t(),(0,d.default)("".concat(p?"Expanded":"Collapsed"," graph."))};return(0,B.A)([["mod+shift+d",j],["mod+shift+c",v],["mod+f",()=>{document.querySelector("#search-node").focus()}]]),o.useEffect(()=>{l(navigator.userAgent.indexOf("Mac OS X")?"⌘":"CTRL")},[]),(0,n.jsxs)(Z.v,{shadow:"md",closeOnItemClick:!1,withArrow:!0,children:[(0,n.jsx)(Z.v.Target,{children:(0,n.jsx)(M,{onClick:()=>(0,f.j)("View Menu","open menu"),children:(0,n.jsxs)(i.k,{align:"center",gap:3,children:["View ",(0,n.jsx)(L.YgJ,{})]})})}),(0,n.jsxs)(Z.v.Dropdown,{children:[(0,n.jsx)(Y.s,{miw:205,size:"xs",value:m,onChange:e=>{x(e),(0,f.j)("View Menu","change view mode",e)},data:[{value:W.w.Graph,label:"Graph"},{value:W.w.Tree,label:"Tree"}],fullWidth:!0}),m===W.w.Graph&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z.v.Item,{mt:"xs",fz:12,onClick:()=>{j(),(0,f.j)("View Menu","rotate layout")},leftSection:(0,n.jsx)(P,{rotate:"LEFT"===(e=a||"RIGHT")?90:"UP"===e?180:"RIGHT"===e?270:360}),rightSection:(0,n.jsxs)(g.x,{ml:"md",fz:10,c:"dimmed",children:[r," Shift D"]}),children:"Rotate Layout"}),(0,n.jsxs)(Z.v.Item,{fz:12,onClick:()=>{v(),(0,f.j)("View Menu","expand collapse graph")},leftSection:p?(0,n.jsx)(E.rIY,{}):(0,n.jsx)(E.NsE,{}),rightSection:(0,n.jsxs)(g.x,{ml:"md",fz:10,c:"dimmed",children:[r," Shift C"]}),children:[p?"Expand":"Collapse"," Graph"]}),(0,n.jsx)(Z.v.Item,{fz:12,onClick:u,leftSection:(0,n.jsx)(E.XrG,{}),children:"Focus to First Node"})]})]})]})};var $=r(76539);let Q=()=>{let e=(0,w.Z)(e=>e.zoomIn),t=(0,w.Z)(e=>e.zoomOut),r=(0,w.Z)(e=>e.centerView),l=(0,w.Z)(e=>e.setZoomFactor),s=(0,w.Z)(e=>{var t;return(null===(t=e.viewPort)||void 0===t?void 0:t.zoomFactor)||1}),[a,d]=o.useState(s);return o.useEffect(()=>{Number.isNaN(s)||d(s)},[s]),(0,B.A)([["shift+Digit0",()=>l(1)],["shift+Digit1",r]]),(0,n.jsxs)(Z.v,{shadow:"md",trigger:"click",closeOnItemClick:!1,withArrow:!0,children:[(0,n.jsx)(Z.v.Target,{children:(0,n.jsx)(M,{onClick:()=>(0,f.j)("Zoom Menu","open menu"),children:(0,n.jsxs)(i.k,{gap:4,align:"center",children:[Math.round(100*s),"%",(0,n.jsx)(L.YgJ,{})]})})}),(0,n.jsxs)(Z.v.Dropdown,{children:[(0,n.jsx)(Z.v.Item,{children:(0,n.jsx)($.I,{type:"number",value:Math.round(100*a),onChange:e=>d(e.currentTarget.valueAsNumber/100),onKeyDown:(0,p.yr)([["Enter",()=>l(a)]]),size:"xs",rightSection:"%"})}),(0,n.jsx)(Z.v.Item,{rightSection:"+",onClick:()=>{e(),(0,f.j)("Zoom Menu","zoom in")},children:(0,n.jsx)(g.x,{size:"xs",children:"Zoom in"})}),(0,n.jsx)(Z.v.Item,{rightSection:"-",onClick:()=>{t(),(0,f.j)("Zoom Menu","zoom out")},children:(0,n.jsx)(g.x,{size:"xs",children:"Zoom out"})}),(0,n.jsx)(Z.v.Item,{rightSection:"⇧ 1",onClick:()=>{r(),(0,f.j)("Zoom Menu","center view")},children:(0,n.jsx)(g.x,{size:"xs",children:"Zoom to fit"})}),(0,n.jsx)(Z.v.Item,{onClick:()=>{l(.5),(0,f.j)("Zoom Menu","zoom to 50%")},children:(0,n.jsx)(g.x,{size:"xs",children:"Zoom to %50"})}),(0,n.jsx)(Z.v.Item,{rightSection:"⇧ 0",onClick:()=>{l(1),(0,f.j)("Zoom Menu","zoom to 100%")},children:(0,n.jsx)(g.x,{size:"xs",children:"Zoom to %100"})}),(0,n.jsx)(Z.v.Item,{onClick:()=>{l(2),(0,f.j)("Zoom Menu","zoom to 200%")},children:(0,n.jsx)(g.x,{size:"xs",children:"Zoom to %200"})})]})]})};function ee(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(()=>{d.default.error("Unable to enter fullscreen mode.")})}let et=e=>{let{isWidget:t=!1}=e,r=(0,k.Z)(e=>e.setVisible),o=(0,I.Z)(e=>e.setFormat),d=(0,I.Z)(e=>e.format);return(0,n.jsxs)(F,{children:[t&&(0,n.jsx)(G,{}),!t&&(0,n.jsxs)(l.Z,{gap:"xs",justify:"left",w:"100%",style:{flexWrap:"nowrap"},children:[(0,n.jsx)(M,{title:"JSON Crack",children:(0,n.jsx)(i.k,{gap:"xs",align:"center",justify:"center",children:(0,n.jsx)(C.p,{fontSize:"1.2em"})})}),(0,n.jsx)(s.P,{defaultValue:"json",size:"xs",value:d,onChange:e=>o(e),miw:80,w:120,data:[{value:S.d.JSON,label:"JSON"},{value:S.d.YAML,label:"YAML"},{value:S.d.XML,label:"XML"},{value:S.d.TOML,label:"TOML"},{value:S.d.CSV,label:"CSV"}],allowDeselect:!1}),(0,n.jsx)(J,{}),(0,n.jsx)(K,{}),(0,n.jsx)(U,{}),(0,n.jsx)(M,{title:"Cloud",onClick:()=>r("cloud")(!0),children:"Cloud"})]}),(0,n.jsxs)(l.Z,{gap:"xs",justify:"right",w:"100%",style:{flexWrap:"nowrap"},children:[!t&&(0,n.jsx)(a.z,{size:"xs",variant:"gradient",style:{border:"1px solid #625BF6"},leftSection:(0,n.jsx)(c.WYw,{}),onClick:()=>{r("upgrade")(!0),(0,f.j)("Toolbar","click upgrade premium")},children:"Get Premium"}),(0,n.jsx)(b,{}),!t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(M,{title:"Save as Image",onClick:()=>r("download")(!0),children:(0,n.jsx)(h._hL,{size:"18"})}),(0,n.jsx)(Q,{}),(0,n.jsx)(T,{}),(0,n.jsx)(H,{}),(0,n.jsx)(M,{title:"Fullscreen",$hide:t,onClick:ee,children:(0,n.jsx)(c.vju,{size:"18"})})]})]})]})}},43044:function(e,t,r){var n,o;r.d(t,{d:function(){return n}}),(o=n||(n={})).JSON="json",o.YAML="yaml",o.XML="xml",o.TOML="toml",o.CSV="csv"},21633:function(e,t,r){var n,o;r.d(t,{w:function(){return n}}),(o=n||(n={})).Graph="graph",o.Tree="tree"},89499:function(e,t,r){var n=r(50959),o=r(77255);function l(e,t){let r=e.map(e=>'[id$="node-'.concat(e,'"]')),n=t.map(e=>'[class$="edge-'.concat(e,'"]'));document.body.querySelectorAll(".hide").forEach(e=>e.classList.remove("hide")),r.length&&document.body.querySelectorAll(r.join(",")).forEach(e=>e.classList.add("hide")),n.length&&document.body.querySelectorAll(n.join(",")).forEach(e=>e.classList.add("hide"))}t.Z=()=>{let e=(0,o.Z)(e=>e.getCollapsedNodeIds),t=(0,o.Z)(e=>e.getCollapsedEdgeIds);return n.useEffect(()=>{l(e(),t())},[t,e]),{validateHiddenNodes:()=>l(e(),t())}}},30247:function(e,t,r){r.d(t,{p:function(){return u}});var n=r(11527),o=r(50959),l=r(5739),i=r.n(l),s=r(81249),a=r(85257),d=r.n(a),c=r(54224);let h=s.ZP.div.withConfig({componentId:"sc-1b98f44c-0"})(["font-weight:800;margin:0;font-family:",";font-size:",";white-space:nowrap;z-index:10;color:",";vertical-align:middle;"],d().style.fontFamily,e=>{let{fontSize:t}=e;return t},e=>{let{theme:t}=e;return t.INTERACTIVE_HOVER}),u=e=>{let{fontSize:t="1.2rem",...r}=e,l=o.useMemo(()=>(0,c.c)()?"JC":"JSON CRACK",[]);return(0,n.jsx)(h,{as:i(),fontSize:t,href:"/",prefetch:!1,...r,children:l})}},89813:function(e,t,r){r.d(t,{C:function(){return o},S:function(){return a}});var n=r(37241);let o=e=>{if("string"!=typeof e)return!1;let t=/(https?:\/\/.*\.(?:png|jpg|gif))/i.test(e),r=e.startsWith("data:image/")&&e.includes("base64");return t||r},l=e=>"string"==typeof e?e:e.map(e=>{let[t,r]=e;return"".concat(t,": ").concat(JSON.stringify(r).slice(0,80))}).join("\n"),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return{width:45,height:45};let r=document.createElement("div");r.style.whiteSpace=t?"nowrap":"pre-wrap",r.innerHTML=e,r.style.fontSize="12px",r.style.width="fit-content",r.style.height="fit-content",r.style.padding="10px",r.style.fontWeight="500",r.style.overflowWrap="break-word",r.style.fontFamily="monospace",document.body.appendChild(r);let n=r.getBoundingClientRect(),o=n.width+4,l=n.height;return document.body.removeChild(r),{width:o,height:l}},s=new Map;setInterval(()=>s.clear(),12e4);let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{imagePreviewEnabled:r}=n.Z.getState(),a=o(e)&&r,d=[e,t].toString();if(s.has(d)){let e=s.get(d);if(e)return e}let c=i(l(e),"string"==typeof e);return a&&(c.width=80,c.height=80),t&&(c.width+=100),c.width>700&&(c.width=700),s.set(d,c),c}},54224:function(e,t,r){r.d(t,{c:function(){return n}});function n(){try{return window.self!==window.top}catch(e){return!0}}},66288:function(e,t,r){r.d(t,{F:function(){return s}});var n=r(94311),o=r(43044),l=r(22678),i=r(62716);let s={upsert:async e=>{let{id:t="",contents:r,format:n=o.d.JSON}=e;return await l.O.rpc("upsert_document",{p_content:r,p_format:n,p_id:t})},getById:async e=>await l.O.rpc("get_document_by_id",{doc_id:e}),getAll:async e=>{var t;let r=null===(t=i.Z.getState().user)||void 0===t?void 0:t.email;if(!r)return[];let{data:o,error:s}=await l.O.from("document").select().eq("owner_email",r).ilike("name","%".concat(e,"%")).order("created_at",{ascending:!1});return s?(n.default.error(s.message),[]):o},update:async(e,t)=>await l.O.from("document").update(t).eq("id",e).select("private"),delete:async e=>await l.O.from("document").delete().eq("id",e)}},37241:function(e,t,r){var n=r(42109),o=r(18574),l=r(21633),i=r(77255);let s={darkmodeEnabled:!1,collapseButtonVisible:!0,childrenCountVisible:!0,imagePreviewEnabled:!0,liveTransformEnabled:!0,gesturesEnabled:!1,rulersEnabled:!0,viewMode:l.w.Graph},a=(0,n.Ue)((0,o.tJ)(e=>({...s,toggleRulers:t=>e({rulersEnabled:t}),toggleGestures:t=>e({gesturesEnabled:t}),toggleLiveTransform:t=>e({liveTransformEnabled:t}),toggleDarkMode:t=>e({darkmodeEnabled:t}),toggleCollapseButton:t=>e({collapseButtonVisible:t}),toggleChildrenCount:t=>e({childrenCountVisible:t}),toggleImagePreview:t=>{e({imagePreviewEnabled:t}),i.Z.getState().setGraph()},setViewMode:t=>e({viewMode:t})}),{name:"config"}));t.Z=a},48199:function(e,t,r){r.d(t,{Z:function(){return w}});var n=r(86763),o=r.n(n),l=r(94311),i=r(42109);let s=JSON.stringify(Object.freeze({squadName:"Super hero squad",homeTown:"Metro City",formed:2016,secretBase:"Super tower",active:!0,members:[{name:"Molecule Man",age:29,secretIdentity:"Dan Jukes",powers:["Radiation resistance","Turning tiny","Radiation blast"]},{name:"Madame Uppercut",age:39,secretIdentity:"Jane Wilson",powers:["Million tonne punch","Damage resistance","Superhuman reflexes"]},{name:"Eternal Flame",age:1e6,secretIdentity:"Unknown",powers:["Immortality","Heat Immunity","Inferno","Teleportation","Interdimensional travel"]}]}),null,2);var a=r(43044);let d=(e,t)=>{if(e&&("object"==typeof e||Array.isArray(e))){if(e.hasOwnProperty(t))return e[t];if(Array.isArray(e))for(let r=0;r<e.length;r++){let n=d(e[r],t);if(n)return n}else for(let r in e){let n=d(e[r],t);if(n)return n}}return!1},c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.d.JSON;try{let{load:n}=await r.e(487).then(r.bind(r,80487)),{csv2json:o}=await r.e(2017).then(r.bind(r,52017)),{parse:l}=await Promise.resolve().then(r.bind(r,89602)),i=await r.e(9595).then(r.t.bind(r,29595,23)),s=await r.e(3859).then(r.t.bind(r,33859,23)),c={};if(t===a.d.JSON&&(c=l(e)),t===a.d.YAML&&(c=n(e)),t===a.d.XML&&(c=i.stringToJs(e)),t===a.d.TOML&&(c=s.parse(e)),t===a.d.CSV&&(c=await o(e)),t===a.d.XML&&d(c,"parsererror"))throw Error("Unknown error!");if(!c)throw Error("Invalid JSON!");return Promise.resolve(c)}catch(e){throw e}},h=async(e,t)=>{try{let{dump:n}=await r.e(487).then(r.bind(r,80487)),{json2csv:o}=await r.e(2017).then(r.bind(r,52017)),{parse:l}=await Promise.resolve().then(r.bind(r,89602)),i=e;if(!e)return e;return t===a.d.JSON&&(i=e),t===a.d.YAML&&(i=n(l(e))),t===a.d.XML&&(i=n(l(e))),t===a.d.TOML&&(i=n(l(e))),t===a.d.CSV&&(i=await o(l(e))),Promise.resolve(i)}catch(e){throw e}};var u=r(54224),g=r(66288),p=r(37241),m=r(77255),f=r(49796);let x={fileData:null,format:a.d.JSON,contents:s,error:null,hasChanges:!1,jsonSchema:null},j=e=>/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi.test(e),v=o()(e=>{m.Z.getState().setLoading(!0),f.Z.getState().setJson(JSON.stringify(e,null,2))},800);var w=(0,i.Ue)()((e,t)=>({...x,clear:()=>{e({contents:""}),f.Z.getState().clear()},setJsonSchema:t=>e({jsonSchema:t}),setFile:r=>{e({fileData:r,format:r.format||a.d.JSON}),t().setContents({contents:r.content,hasChanges:!1})},getContents:()=>t().contents,getFormat:()=>t().format,getHasChanges:()=>t().hasChanges,setFormat:async r=>{try{let n=t().format;e({format:r});let o=await c(t().contents,n),l=await h(JSON.stringify(o,null,2),r);t().setContents({contents:l})}catch(e){t().clear(),console.warn("The content was unable to be converted, so it was cleared instead.")}},setContents:async r=>{let{contents:n,hasChanges:o=!0,skipUpdate:l=!1}=r;try{e({...n&&{contents:n},error:null,hasChanges:o});let r=window.location.href.includes("?"),i=await c(t().contents,t().format);if(!p.Z.getState().liveTransformEnabled&&l)return;t().hasChanges&&n&&n.length<8e4&&!(0,u.c)()&&!r&&(sessionStorage.setItem("content",n),sessionStorage.setItem("format",t().format),e({hasChanges:!0})),v(i)}catch(t){var i;if(null==t?void 0:null===(i=t.mark)||void 0===i?void 0:i.snippet)return e({error:t.mark.snippet});(null==t?void 0:t.message)&&e({error:t.message}),f.Z.setState({loading:!1}),m.Z.setState({loading:!1})}},setError:t=>e({error:t}),setHasChanges:t=>e({hasChanges:t}),fetchUrl:async e=>{try{let r=await fetch(e),n=await r.json(),o=JSON.stringify(n,null,2);return t().setContents({contents:o}),f.Z.setState({json:o,loading:!1})}catch(e){t().clear(),l.toast.error("Failed to fetch document from URL!")}},checkEditorSession:(r,n)=>{if(r&&"string"==typeof r)return j(r)?t().fetchUrl(r):t().fetchFile(r);let o=s,l=sessionStorage.getItem("content"),i=sessionStorage.getItem("format");l&&!n&&(o=l),i&&e({format:i}),t().setContents({contents:o,hasChanges:!1})},fetchFile:async e=>{try{let{data:r,error:n}=await g.F.getById(e);if(n)throw n;if((null==r?void 0:r.length)&&t().setFile(r[0]),(null==r?void 0:r.length)===0)throw Error("Document not found")}catch(e){(null==e?void 0:e.message)&&l.toast.error(null==e?void 0:e.message),t().setContents({contents:s,hasChanges:!1})}}}))},77255:function(e,t,r){r.d(t,{Z:function(){return m}});var n=r(42109);let o=(e,t)=>{let r=e.map(e=>e.id);return t.filter(e=>r.includes(e.from)||r.includes(e.to))},l=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=[],l=[];if(n.includes(e)){let r=t.find(t=>t.id===e);r&&o.push(r)}let i=e=>{let s=r.filter(t=>t.from===e).map(e=>e.to),a=t.filter(e=>(n.includes(e.id)&&!l.includes(e.id)&&l.push(e.id),s.includes(e.id)&&!n.includes(e.id)));o.push(...a),a.forEach(e=>i(e.id))};return i(e),[o,l]};var i=r(89602);let s=(e,t,r)=>{let n={id:"e".concat(t,"-").concat(r),from:t,to:r};e.edges.push(n)};var a=r(89813);let d=e=>{let{graph:t,text:r,type:n="null",isEmpty:o=!1}=e,l=String(t.nodes.length+1),i="array"===n||"object"===n,{width:s,height:d}=(0,a.S)(r,i);return t.nodes.push({id:l,text:r,width:s,height:d,data:{type:n,isParent:i,isEmpty:o,childrenCount:i?1:0}}),l},c=e=>["boolean","string","number","null"].includes(e),h=(e,t)=>{var r,n,o,l;let i=null==e?void 0:null===(n=e.children)||void 0===n?void 0:null===(r=n[1])||void 0===r?void 0:r.type,s=null==t?void 0:null===(l=t.children)||void 0===l?void 0:null===(o=l[1])||void 0===o?void 0:o.type;return c(i)&&!c(s)?-1:0},u=e=>{let{objectToTraverse:t,states:r,myParentId:n,nextType:o,parentType:l}=e,i=r.graph,{type:c,children:g,value:p}=t;g?g&&function(e,t,r,n,o,l){let i;if("property"!==e&&""!==t.parentName){var c;if(t.brothersNode.length>0){let e=t.brothersNodeProps.find(e=>e.parentId===t.brothersParentId&&e.objectsFromArrayId===t.objectsFromArray[t.objectsFromArray.length-1]);if(e){let n=r.nodes.findIndex(t=>t.id===(null==e?void 0:e.id));if(-1!==n){let e=[...r.nodes],o=e[n];o.text=o.text.concat(t.brothersNode);let{width:l,height:i}=(0,a.S)(o.text,!1);o.width=l,o.height=i,r.nodes=e,t.brothersNode=[]}}else{let e=d({graph:r,text:t.brothersNode});t.brothersNode=[],t.brothersParentId?s(r,t.brothersParentId,e):t.notHaveParent.push(e),t.brothersNodeProps.push({id:e,parentId:t.brothersParentId,objectsFromArrayId:t.objectsFromArray[t.objectsFromArray.length-1]})}}i=d({graph:r,type:e,text:t.parentName}),t.bracketOpen.push({id:i,type:e}),t.parentName="";let n=t.brothersNodeProps.filter(e=>e.parentId===o&&e.objectsFromArrayId===t.objectsFromArray[t.objectsFromArray.length-1]);n.length>0&&(null===(c=t.bracketOpen[t.bracketOpen.length-2])||void 0===c?void 0:c.type)!=="object"||n.length>0&&1===t.bracketOpen.length?s(r,n[n.length-1].id,i):o?s(r,o,i):t.notHaveParent.push(i)}else"array"===l&&(t.objectsFromArray=[...t.objectsFromArray,t.objectsFromArrayId++]);let g=(r,n)=>{var o;u({states:t,objectToTraverse:r,parentType:e,myParentId:null===(o=t.bracketOpen[t.bracketOpen.length-1])||void 0===o?void 0:o.id,nextType:n})};if("object"===e&&n.sort(h),n.forEach((e,t,r)=>{var n;g(e,null===(n=r[t+1])||void 0===n?void 0:n.type)}),"property"!==e){if(t.brothersNode.length>0){let e=t.brothersNodeProps.find(e=>e.parentId===t.brothersParentId&&e.objectsFromArrayId===t.objectsFromArray[t.objectsFromArray.length-1]);if(e){let n=[...r.nodes],o=n.findIndex(t=>t.id===(null==e?void 0:e.id));if(n[o]&&"string"==typeof t.brothersNode){n[o].text+=t.brothersNode;let{width:e,height:l}=(0,a.S)(n[o].text,!1);n[o].width=e,n[o].height=l,r.nodes=n,t.brothersNode=[]}}else{let e=d({graph:r,text:t.brothersNode});t.brothersNode=[],t.brothersParentId?s(r,t.brothersParentId,e):t.notHaveParent=[...t.notHaveParent,e];let n={id:e,parentId:t.brothersParentId,objectsFromArrayId:t.objectsFromArray[t.objectsFromArray.length-1]};t.brothersNodeProps=[...t.brothersNodeProps,n]}}if("array"===l?t.objectsFromArray.length>0&&t.objectsFromArray.pop():t.bracketOpen.length>0&&t.bracketOpen.pop(),i){let e=r.edges.filter(e=>e.from===i),t=r.nodes.findIndex(e=>e.id===i);r.nodes=r.nodes.map((r,n)=>{if(n===t){let t=e.length;return{...r,data:{...r.data,childrenCount:t}}}return r})}}}(c,r,i,g,n,l):function(e,t,r,n,o,l){if(void 0!==e){if("property"===o&&"object"!==l&&"array"!==l)t.brothersParentId=n,void 0===l&&Array.isArray(t.brothersNode)?t.brothersNode.push([t.brotherKey,e]):t.brotherKey=e;else if("array"===o){let t=d({graph:r,text:String(e)});n&&s(r,n,t)}l&&"array"!==o&&("object"===l||"array"===l)&&(t.parentName=e)}}(p,r,i,n,l,o)};var g=r(49796);let p={viewPort:null,direction:"RIGHT",loading:!0,graphCollapsed:!1,fullscreen:!1,collapseAll:!1,nodes:[],edges:[],collapsedNodes:[],collapsedEdges:[],collapsedParents:[],selectedNode:null,path:""};var m=(0,n.Ue)((e,t)=>({...p,toggleCollapseAll:r=>{e({collapseAll:r}),t().collapseGraph()},clearGraph:()=>e({nodes:[],edges:[],loading:!1}),getCollapsedNodeIds:()=>t().collapsedNodes,getCollapsedEdgeIds:()=>t().collapsedEdges,setSelectedNode:t=>e({selectedNode:t}),setGraph:(n,o)=>{let{nodes:l,edges:a}=function(e){try{let t={parentName:"",bracketOpen:[],objectsFromArray:[],objectsFromArrayId:0,notHaveParent:[],brothersNode:[],brothersParentId:void 0,brotherKey:"",brothersNodeProps:[],graph:{nodes:[],edges:[]}},n=(0,i.jv)(e);if(!n)throw Error("Invalid document");u({states:t,objectToTraverse:n});let{notHaveParent:o,graph:l}=t;if(o.length>1&&"array"!==n.type){let e=d({graph:l,id:null,text:"",isEmpty:!0,data:{}});o.forEach(t=>s(l,e,t))}return 0===t.graph.nodes.length&&("array"===n.type?d({graph:t.graph,text:"[]"}):d({graph:t.graph,text:"{}"})),t.graph.nodes=t.graph.nodes.map(e=>({...e,path:function(e,t,n){let{getParentsForNodeId:o}=r(14946),l="",i=o(e,t,n).map(e=>e.id).reverse().concat(n),s=["1"],a=new Map;for(let e of t)a.has(e.from)||a.set(e.from,[]),a.get(e.from).push(e.to);for(let e=1;e<t.length;e++){let r=t[e].from;s.includes(r)||a.has(r)||s.push(r)}s.length>1?l+="Root[".concat(s.findIndex(e=>e===i[0]),"]"):l+="{Root}";for(let t=1;t<i.length;t++){var d,c;let r=i[t],n=e[+r-1];if(!n)break;if((null===(d=n.data)||void 0===d?void 0:d.type)==="array"&&(l+=".".concat(n.text),t!==i.length-1)){let e=i[t+1],n=a.get(r).indexOf(e);l+="[".concat(n,"]")}(null===(c=n.data)||void 0===c?void 0:c.type)==="object"&&(l+=".".concat(n.text))}return l}(t.graph.nodes,t.graph.edges,e.id)})),t.graph}catch(e){return console.error(e),{nodes:[],edges:[]}}}(null!=n?n:g.Z.getState().json);t().collapseAll?(e({nodes:l,edges:a,...o}),t().collapseGraph()):e({nodes:l,edges:a,collapsedParents:[],collapsedNodes:[],collapsedEdges:[],graphCollapsed:!1,...o})},setDirection:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"RIGHT";e({direction:r}),setTimeout(()=>t().centerView(),200)},setLoading:t=>e({loading:t}),expandNodes:r=>{let[n,i]=l(r,t().nodes,t().edges,t().collapsedParents),s=o(n,t().edges),a=s.reduce((e,t)=>(t.from&&!e.includes(t.from)&&e.push(t.from),t.to&&!e.includes(t.to)&&e.push(t.to),e),[]),d=i.filter(e=>a.includes(e)),c=n.map(e=>e.id).concat(d),h=s.map(e=>e.id),u=t().collapsedParents.filter(e=>e!==r),g=t().collapsedNodes.filter(e=>!c.includes(e));e({collapsedParents:u,collapsedNodes:g,collapsedEdges:t().collapsedEdges.filter(e=>!h.includes(e)),graphCollapsed:!!g.length})},collapseNodes:r=>{let[n]=l(r,t().nodes,t().edges),i=o(n,t().edges),s=n.map(e=>e.id),a=i.map(e=>e.id);e({collapsedParents:t().collapsedParents.concat(r),collapsedNodes:t().collapsedNodes.concat(s),collapsedEdges:t().collapsedEdges.concat(a),graphCollapsed:!!t().collapsedNodes.concat(s).length})},collapseGraph:()=>{let r=t().edges,n=r.map(e=>e.to),o=r.map(e=>e.from).filter(e=>!n.includes(e)),l=r.filter(e=>o.includes(e.from)).map(e=>e.to),i=t().nodes.filter(e=>{var t;return!o.includes(e.id)&&(null===(t=e.data)||void 0===t?void 0:t.isParent)}).map(e=>e.id),s=t().nodes.filter(e=>!o.includes(e.id)&&!l.includes(e.id)).map(e=>e.id),a=Math.min(...i.map(e=>+e)),d=document.querySelector("g[id*='node-".concat(a,"']"));if(e({collapsedParents:i,collapsedNodes:s,collapsedEdges:t().edges.filter(e=>!o.includes(e.from)).map(e=>e.id),graphCollapsed:!0}),d){var c,h;null===(h=t().viewPort)||void 0===h||null===(c=h.camera)||void 0===c||c.centerFitElementIntoView(d,{elementExtraMarginForZoom:300})}},expandGraph:()=>{e({collapsedNodes:[],collapsedEdges:[],collapsedParents:[],graphCollapsed:!1})},focusFirstNode:()=>{var e,r;let n=document.querySelector("g[id*='node-1']");null===(r=t().viewPort)||void 0===r||null===(e=r.camera)||void 0===e||e.centerFitElementIntoView(n,{elementExtraMarginForZoom:100})},setZoomFactor:e=>{var r;let n=t().viewPort;null==n||null===(r=n.camera)||void 0===r||r.recenter(n.centerX,n.centerY,e)},zoomIn:()=>{var e;let r=t().viewPort;null==r||null===(e=r.camera)||void 0===e||e.recenter(r.centerX,r.centerY,r.zoomFactor+.1)},zoomOut:()=>{var e;let r=t().viewPort;null==r||null===(e=r.camera)||void 0===e||e.recenter(r.centerX,r.centerY,r.zoomFactor-.1)},centerView:()=>{let e=t().viewPort;null==e||e.updateContainerSize();let r=document.querySelector(".jsoncrack-canvas");if(r){var n;null==e||null===(n=e.camera)||void 0===n||n.centerFitElementIntoView(r)}},toggleFullscreen:t=>e({fullscreen:t}),setViewPort:t=>e({viewPort:t})}))},49796:function(e,t,r){var n=r(42109),o=r(77255);let l={json:"",loading:!0},i=(0,n.Ue)()((e,t)=>({...l,getJson:()=>t().json,setJson:t=>{e({json:t,loading:!1}),o.Z.getState().setGraph(t)},clear:()=>{e({json:"",loading:!1}),o.Z.getState().clearGraph()}}));t.Z=i},28074:function(e,t,r){var n=r(42109),o=r(62716);let l={clear:!1,cloud:!1,download:!1,import:!1,account:!1,node:!1,share:!1,login:!1,upgrade:!1,jwt:!1,schema:!1,review:!1,jq:!1,type:!1},i=["cloud","account"],s=(0,n.Ue)()(e=>({...l,setVisible:t=>r=>{let n=o.Z.getState();if(i.includes(t)&&!n.isAuthenticated)return e({login:!0});e({[t]:r})}}));t.Z=s}}]);