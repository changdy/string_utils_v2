(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4154],{14929:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/editor",function(){return i(65324)}])},65324:function(e,n,i){"use strict";i.r(n),i.d(n,{StyledEditorWrapper:function(){return W},StyledPageWrapper:function(){return U},default:function(){return q}});var t=i(11527),s=i(50959),r=i(72155),l=i.n(r),a=i(88954),o=i.n(a),d=i(85778),c=i(12663),h=i(81249),x=i(27655),u=i(97066),f=i(90420),p=i(83240);i(14756);var j=i(77255);let g=(0,h.ZP)(p.oL).withConfig({componentId:"sc-83b5796b-0"})(["position:relative !important;display:flex;background:",";height:calc(100vh - 67px);@media only screen and (max-width:320px){height:100vh;}"],e=>{let{theme:n}=e;return n.BACKGROUND_SECONDARY}),m=l()(()=>Promise.all([i.e(265),i.e(1017)]).then(i.bind(i,71017)),{loadableGenerated:{webpack:()=>[71017]},ssr:!1}),v=l()(()=>Promise.all([i.e(3264),i.e(7933),i.e(7762)]).then(i.bind(i,77762)),{loadableGenerated:{webpack:()=>[77762]},ssr:!1}),w=()=>{let e=(0,j.Z)(e=>e.fullscreen);return(0,t.jsxs)(g,{proportionalLayout:!1,children:[(0,t.jsx)(p.oL.Pane,{preferredSize:450,minSize:e?0:300,maxSize:800,visible:!e,children:(0,t.jsx)(m,{})}),(0,t.jsx)(p.oL.Pane,{minSize:0,children:(0,t.jsx)(v,{})})]})};var b=i(98373),C=i(50404),k=i(15454),y=i(94311),Z=i(96570),E=i(26062),S=i(97793),_=i(82783),P=i(34490),T=i(30534),I=i(66288),N=i(37241),O=i(48199),z=i(28074),B=i(62716);let R=h.ZP.div.withConfig({componentId:"sc-fb7a0a7c-0"})(["position:relative;display:flex;align-items:center;justify-content:space-between;border-top:1px solid ",";background:",";max-height:27px;height:27px;z-index:35;padding-right:6px;@media screen and (max-width:320px){display:none;}"],e=>{let{theme:n}=e;return n.BACKGROUND_MODIFIER_ACCENT},e=>{let{theme:n}=e;return n.TOOLBAR_BG}),F=h.ZP.div.withConfig({componentId:"sc-fb7a0a7c-1"})(["display:flex;align-items:center;justify-content:left;gap:4px;padding-left:8px;@media screen and (max-width:480px){display:none;}"]),A=h.ZP.div.withConfig({componentId:"sc-fb7a0a7c-2"})(["display:flex;align-items:center;justify-content:right;gap:4px;"]),D=h.ZP.button.withConfig({componentId:"sc-fb7a0a7c-3"})(["display:flex;align-items:center;gap:4px;width:fit-content;margin:0;height:28px;padding:4px;font-size:12px;font-weight:400;color:",";background:",";white-space:nowrap;text-overflow:ellipsis;overflow:hidden;&:hover:not(&:disabled){background-image:linear-gradient(rgba(0,0,0,0.1) 0 0);color:",";}&:disabled{opacity:0.6;cursor:default;}"],e=>{let{theme:n}=e;return n.INTERACTIVE_NORMAL},e=>{let{$bg:n}=e;return n},e=>{let{theme:n}=e;return n.INTERACTIVE_HOVER}),L=()=>{let{query:e,replace:n}=(0,d.useRouter)(),i=(0,O.Z)(e=>e.fileData),r=(0,B.Z)(e=>e.user),l=(0,N.Z)(e=>e.toggleLiveTransform),a=(0,N.Z)(e=>e.liveTransformEnabled),c=(0,O.Z)(e=>e.hasChanges),h=(0,O.Z)(e=>e.error),x=(0,O.Z)(e=>e.getContents),u=(0,O.Z)(e=>e.setContents),f=(0,j.Z)(e=>e.nodes.length),p=(0,O.Z)(e=>{var n;return null===(n=e.fileData)||void 0===n?void 0:n.name}),g=(0,j.Z)(e=>e.toggleFullscreen),m=(0,j.Z)(e=>e.fullscreen),v=(0,z.Z)(e=>e.setVisible),w=(0,O.Z)(e=>e.setHasChanges),L=(0,O.Z)(e=>e.getFormat),[G,V]=s.useState(!1),[J,K]=s.useState(!1);s.useEffect(()=>{var e;V(null===(e=null==i?void 0:i.private)||void 0===e||e)},[i]);let U=s.useCallback(async()=>{if(!r)return v("login")(!0);if(c&&!h&&("string"==typeof e.json||void 0===e.json))try{K(!0),y.default.loading("Saving document...",{id:"fileSave"});let{data:i,error:t}=await I.F.upsert({id:null==e?void 0:e.json,contents:x(),format:L()});if(t)throw t;i&&n({query:{json:i}}),y.default.success("Document saved to cloud",{id:"fileSave"}),w(!1)}catch(e){y.default.error(e.message,{id:"fileSave"})}finally{K(!1)}},[h,x,L,c,e.json,n,w,v,r]),W=async()=>{try{if(!e.json)return U();K(!0);let{data:n,error:i}=await I.F.update(e.json,{private:!G});if(i)return y.default.error(i.message);if(n[0])V(n[0].private),y.default.success("Document set to ".concat(G?"public":"private","."));else throw i}catch(e){console.error(e)}finally{K(!1)}};return(0,t.jsxs)(R,{children:[(null==i?void 0:i.name)&&(0,t.jsx)(o(),{children:(0,t.jsxs)("title",{children:[i.name," | JSON Crack"]})}),(0,t.jsxs)(F,{children:[(0,t.jsx)(D,{onClick:()=>{g(!m),(0,T.j)("Bottom Bar","toggle fullscreen")},children:(0,t.jsx)(E.KOt,{})}),p&&(0,t.jsxs)(D,{onClick:()=>v("cloud")(!0),children:[(0,t.jsx)(P.oFx,{}),p]}),(0,t.jsx)(D,{children:h?(0,t.jsxs)(b.J,{width:"auto",shadow:"md",position:"top",withArrow:!0,children:[(0,t.jsx)(b.J.Target,{children:(0,t.jsxs)(C.k,{align:"center",gap:2,children:[(0,t.jsx)(P.$Vt,{color:"red",size:16}),(0,t.jsx)(k.x,{c:"red",fw:500,fz:"xs",children:"Invalid"})]})}),(0,t.jsx)(b.J.Dropdown,{style:{pointerEvents:"none"},children:(0,t.jsx)(k.x,{size:"xs",children:h})})]}):(0,t.jsxs)(C.k,{align:"center",gap:2,children:[(0,t.jsx)(S.S5G,{}),(0,t.jsx)(k.x,{size:"xs",children:"Valid"})]})}),((null==i?void 0:i.owner_email)===(null==r?void 0:r.email)||!i&&r)&&(0,t.jsxs)(D,{onClick:U,disabled:J||h,children:[c||!r?(0,t.jsx)(Z.IEK,{}):(0,t.jsx)(Z.U8$,{}),c||!r?(null==e?void 0:e.json)?"Unsaved Changes":"Save to Cloud":"Saved"]}),(null==i?void 0:i.owner_email)===(null==r?void 0:r.email)&&(0,t.jsxs)(D,{onClick:W,disabled:J,children:[G?(0,t.jsx)(Z.YfK,{}):(0,t.jsx)(Z.BTk,{}),G?"Private":"Public"]}),(0,t.jsxs)(D,{onClick:()=>v("share")(!0),disabled:G||!i,children:[(0,t.jsx)(Z.uFt,{}),"Share"]}),a?(0,t.jsxs)(D,{onClick:()=>{l(!1),(0,T.j)("Bottom Bar","toggle live transform","manual")},children:[(0,t.jsx)(P.LSP,{}),(0,t.jsx)(k.x,{fz:"xs",children:"Live Transform"})]}):(0,t.jsxs)(D,{onClick:()=>{l(!0),(0,T.j)("Bottom Bar","toggle live transform","live")},children:[(0,t.jsx)(P.tnZ,{}),(0,t.jsx)(k.x,{fz:"xs",children:"Manual Transform"})]}),!a&&(0,t.jsxs)(D,{onClick:()=>u({}),children:[(0,t.jsx)(_.lTV,{}),"Transform"]})]}),(0,t.jsxs)(A,{children:[(0,t.jsxs)(D,{children:["Nodes: ",f]}),(0,t.jsxs)(D,{onClick:()=>v("review")(!0),children:[(0,t.jsx)(P.xJq,{}),"Feedback"]})]})]})};var G=i(75684);let V=l()(()=>Promise.all([i.e(3027),i.e(949),i.e(5242),i.e(3113),i.e(5410),i.e(6679),i.e(6536),i.e(1643),i.e(8316),i.e(265),i.e(293),i.e(5796)]).then(i.bind(i,35796)),{loadableGenerated:{webpack:()=>[35796]}}),J=l()(()=>Promise.all([i.e(8316),i.e(5771)]).then(i.bind(i,21056)),{loadableGenerated:{webpack:()=>[21056]}}),K=new x.S({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1}}}),U=h.ZP.div.withConfig({componentId:"sc-a6e0b5a9-0"})(["height:calc(100vh - 27px);width:100%;@media only screen and (max-width:320px){height:100vh;}"]),W=h.ZP.div.withConfig({componentId:"sc-a6e0b5a9-1"})(["width:100%;height:100%;overflow:hidden;"]);var q=()=>{let{query:e,isReady:n}=(0,d.useRouter)(),{setColorScheme:i}=(0,c.X)(),r=(0,O.Z)(e=>e.checkEditorSession),l=(0,N.Z)(e=>e.darkmodeEnabled);return s.useEffect(()=>{n&&r(null==e?void 0:e.json)},[r,n,e]),s.useEffect(()=>{i(l?"dark":"light")},[l,i]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o(),{children:[(0,t.jsx)("title",{children:"Editor | JSON Crack"}),(0,t.jsx)("link",{rel:"canonical",href:"https://jsoncrack.com/editor"})]}),(0,t.jsx)(h.f6,{theme:l?f.$_:f.Wb,children:(0,t.jsxs)(u.aH,{client:K,children:[(0,t.jsx)(J,{}),(0,t.jsx)(V,{}),(0,t.jsxs)(W,{children:[(0,t.jsxs)(U,{children:[(0,t.jsx)(G.o,{}),(0,t.jsx)(W,{children:(0,t.jsx)(w,{})})]}),(0,t.jsx)(L,{})]})]})})]})}}},function(e){e.O(0,[5,8197,4548,833,7769,3279,7243,6698,4255,7579,178,2474,4059,7641,7301,6816,7698,4174,2505,4730,5684,2888,9774,179],function(){return e(e.s=14929)}),_N_E=e.O()}]);