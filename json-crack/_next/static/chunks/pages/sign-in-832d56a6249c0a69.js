(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1312],{79994:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-in",function(){return n(56810)}])},56810:function(e,s,n){"use strict";n.r(s),n.d(s,{AuthenticationForm:function(){return S}});var r=n(11527),t=n(50959),i=n(88954),o=n.n(i),a=n(5739),l=n.n(a),c=n(85778),d=n(65410),u=n(15454),h=n(74530),m=n(43307),g=n(51115),x=n(23285),f=n(32285),p=n(32259),w=n(78133),j=n(94311),k=n(96570),_=n(25841),y=n(22678),b=n(54224),v=n(62716);function S(e){let{push:s}=(0,c.useRouter)(),n=(0,v.Z)(e=>e.setSession),i=(0,v.Z)(e=>e.isAuthenticated),[o,a]=t.useState(!1),[w,_]=t.useState({name:"",email:"",password:""}),b=async e=>{e.preventDefault(),a(!0);let{data:r,error:t}=await y.O.auth.signInWithPassword({email:w.email,password:w.password});if(t)return a(!1),j.toast.error(t.message);await n(r.session),s("/editor"),a(!1)},S=async e=>{a(!0),await y.O.auth.signInWithOAuth({provider:e,options:{redirectTo:"".concat(window.location.origin,"/editor")}}),a(!1)};return i?(0,r.jsxs)(d.X,{p:"lg",maw:400,style:{textAlign:"center"},children:[(0,r.jsx)(u.x,{fz:"sm",c:"dark",children:"You are already signed in. Click the button below to go to the editor."}),(0,r.jsx)(l(),{href:"/editor",children:(0,r.jsx)(h.z,{mt:"lg",color:"dark",size:"lg",children:"GO TO EDITOR"})})]}):(0,r.jsxs)(d.X,{...e,style:{textAlign:"left"},children:[(0,r.jsx)("form",{onSubmit:b,children:(0,r.jsxs)(m.K,{children:[(0,r.jsx)(g.o,{name:"email",required:!0,label:"Email",placeholder:"hello@jsoncrack.com",value:w.email,onChange:e=>_(s=>({...s,email:e.target.value})),radius:"sm",style:{color:"black"}}),(0,r.jsx)(x.W,{name:"password",required:!0,label:"Password",placeholder:"∗∗∗∗∗∗∗∗∗∗∗",value:w.password,onChange:e=>_(s=>({...s,password:e.target.value})),radius:"sm",style:{color:"black"}}),(0,r.jsx)(h.z,{color:"dark",type:"submit",radius:"sm",loading:o,children:"Sign in"}),(0,r.jsx)(m.K,{gap:"sm",mx:"auto",align:"center",children:(0,r.jsx)(f.e,{component:l(),prefetch:!1,href:"/forgot-password",c:"dark",size:"xs",children:"Forgot your password?"})})]})}),(0,r.jsx)(p.i,{my:"lg"}),(0,r.jsxs)(m.K,{mb:"md",mt:"md",children:[(0,r.jsx)(h.z,{radius:"sm",leftSection:(0,r.jsx)(k.P_r,{size:"20"}),onClick:()=>S("google"),color:"red",variant:"outline",children:"Sign in with Google"}),(0,r.jsx)(h.z,{radius:"sm",leftSection:(0,r.jsx)(k.idJ,{size:"20"}),onClick:()=>S("github"),color:"dark",variant:"outline",children:"Sign in with GitHub"})]})]})}s.default=()=>{let{isReady:e,push:s,query:n}=(0,c.useRouter)(),i=(0,v.Z)(e=>!!e.user),a=(0,v.Z)(e=>e.setSession),u=(null==n?void 0:n.type)==="recovery"&&!(null==n?void 0:n.error);return(t.useEffect(()=>{if((0,b.c)()){s("/");return}e&&((null==n?void 0:n.access_token)&&(null==n?void 0:n.refresh_token)&&(async()=>{let{data:e,error:s}=await y.O.auth.setSession({access_token:n.access_token,refresh_token:n.refresh_token});if(s)return j.toast.error(s.message);e.session&&a(e.session)})(),i&&!u&&s("/editor"))},[e,i,s,u,n,a]),e)?(0,r.jsxs)(_.Z,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"Sign In - JSON Crack"}),(0,r.jsx)("link",{rel:"canonical",href:"https://app.jsoncrack.com/sign-in"})]}),(0,r.jsx)(d.X,{mt:100,mx:"auto",maw:400,p:"lg",withBorder:!0,children:(0,r.jsx)(S,{})}),(0,r.jsx)(w.M,{my:"xl",children:(0,r.jsx)(f.e,{component:l(),prefetch:!1,href:"/sign-up",c:"gray.5",fw:"bold",children:"Don't have an account?"})})]}):null}},78133:function(e,s,n){"use strict";n.d(s,{M:function(){return d}});var r=n(11527);n(50959);var t=n(99586),i=n(39771),o=n(57804),a=n(54973),l={root:"m_4451eb3a"};let c={},d=(0,a.b)((e,s)=>{let n=(0,t.w)("Center",c,e),{classNames:a,className:d,style:u,styles:h,unstyled:m,vars:g,inline:x,mod:f,...p}=n,w=(0,i.y)({name:"Center",props:n,classes:l,className:d,style:u,classNames:a,styles:h,unstyled:m,vars:g});return(0,r.jsx)(o.x,{ref:s,mod:[{inline:x},f],...w("root"),...p})});d.classes=l,d.displayName="@mantine/core/Center"}},function(e){e.O(0,[3027,949,5,8590,6536,7698,8997,2888,9774,179],function(){return e(e.s=79994)}),_N_E=e.O()}]);