{"version":3,"file":"static/chunks/pages/editor-3f7f9d1c2dfe6ec5.js","mappings":"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","sources":["webpack://_N_E/?852d","webpack://_N_E/./src/containers/Editor/index.tsx","webpack://_N_E/./src/containers/Editor/BottomBar.tsx","webpack://_N_E/./src/pages/editor.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/editor\",\n      function () {\n        return require(\"private-next-pages/editor.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/editor\"])\n      });\n    }\n  ","import React from \"react\";\nimport dynamic from \"next/dynamic\";\nimport styled from \"styled-components\";\nimport { Allotment } from \"allotment\";\nimport \"allotment/dist/style.css\";\nimport useGraph from \"src/store/useGraph\";\n\nexport const StyledEditor = styled(Allotment)`\n  position: relative !important;\n  display: flex;\n  background: ${({ theme }) => theme.BACKGROUND_SECONDARY};\n  height: calc(100vh - 67px);\n\n  @media only screen and (max-width: 320px) {\n    height: 100vh;\n  }\n`;\n\nconst TextEditor = dynamic(() => import(\"src/containers/Editor/TextEditor\"), {\n  ssr: false,\n});\n\nconst LiveEditor = dynamic(() => import(\"src/containers/Editor/LiveEditor\"), {\n  ssr: false,\n});\n\nexport const Editor = () => {\n  const fullscreen = useGraph(state => state.fullscreen);\n\n  return (\n    <StyledEditor proportionalLayout={false}>\n      <Allotment.Pane\n        preferredSize={450}\n        minSize={fullscreen ? 0 : 300}\n        maxSize={800}\n        visible={!fullscreen}\n      >\n        <TextEditor />\n      </Allotment.Pane>\n      <Allotment.Pane minSize={0}>\n        <LiveEditor />\n      </Allotment.Pane>\n    </StyledEditor>\n  );\n};\n","import React from \"react\";\nimport Head from \"next/head\";\nimport { useRouter } from \"next/router\";\nimport { Flex, Popover, Text } from \"@mantine/core\";\nimport styled from \"styled-components\";\nimport toast from \"react-hot-toast\";\nimport {\n  AiOutlineCloudSync,\n  AiOutlineCloudUpload,\n  AiOutlineLink,\n  AiOutlineLock,\n  AiOutlineUnlock,\n} from \"react-icons/ai\";\nimport { BiSolidDockLeft } from \"react-icons/bi\";\nimport { MdOutlineCheckCircleOutline } from \"react-icons/md\";\nimport { TbTransform } from \"react-icons/tb\";\nimport { VscError, VscFeedback, VscSourceControl, VscSync, VscSyncIgnored } from \"react-icons/vsc\";\nimport { gaEvent } from \"src/lib/utils/gaEvent\";\nimport { documentSvc } from \"src/services/document.service\";\nimport useConfig from \"src/store/useConfig\";\nimport useFile from \"src/store/useFile\";\nimport useGraph from \"src/store/useGraph\";\nimport useModal from \"src/store/useModal\";\nimport useUser from \"src/store/useUser\";\n\nconst StyledBottomBar = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-top: 1px solid ${({ theme }) => theme.BACKGROUND_MODIFIER_ACCENT};\n  background: ${({ theme }) => theme.TOOLBAR_BG};\n  max-height: 27px;\n  height: 27px;\n  z-index: 35;\n  padding-right: 6px;\n\n  @media screen and (max-width: 320px) {\n    display: none;\n  }\n`;\n\nconst StyledLeft = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: left;\n  gap: 4px;\n  padding-left: 8px;\n\n  @media screen and (max-width: 480px) {\n    display: none;\n  }\n`;\n\nconst StyledRight = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: right;\n  gap: 4px;\n`;\n\nconst StyledBottomBarItem = styled.button<{ $bg?: string }>`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  width: fit-content;\n  margin: 0;\n  height: 28px;\n  padding: 4px;\n  font-size: 12px;\n  font-weight: 400;\n  color: ${({ theme }) => theme.INTERACTIVE_NORMAL};\n  background: ${({ $bg }) => $bg};\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n\n  &:hover:not(&:disabled) {\n    background-image: linear-gradient(rgba(0, 0, 0, 0.1) 0 0);\n    color: ${({ theme }) => theme.INTERACTIVE_HOVER};\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: default;\n  }\n`;\n\nexport const BottomBar = () => {\n  const { query, replace } = useRouter();\n  const data = useFile(state => state.fileData);\n  const user = useUser(state => state.user);\n  const toggleLiveTransform = useConfig(state => state.toggleLiveTransform);\n  const liveTransformEnabled = useConfig(state => state.liveTransformEnabled);\n  const hasChanges = useFile(state => state.hasChanges);\n  const error = useFile(state => state.error);\n  const getContents = useFile(state => state.getContents);\n  const setContents = useFile(state => state.setContents);\n  const nodeCount = useGraph(state => state.nodes.length);\n  const fileName = useFile(state => state.fileData?.name);\n  const toggleFullscreen = useGraph(state => state.toggleFullscreen);\n  const fullscreen = useGraph(state => state.fullscreen);\n\n  const setVisible = useModal(state => state.setVisible);\n  const setHasChanges = useFile(state => state.setHasChanges);\n  const getFormat = useFile(state => state.getFormat);\n  const [isPrivate, setIsPrivate] = React.useState(false);\n  const [isUpdating, setIsUpdating] = React.useState(false);\n\n  const toggleEditor = () => {\n    toggleFullscreen(!fullscreen);\n    gaEvent(\"Bottom Bar\", \"toggle fullscreen\");\n  };\n\n  React.useEffect(() => {\n    setIsPrivate(data?.private ?? true);\n  }, [data]);\n\n  const handleSaveJson = React.useCallback(async () => {\n    if (!user) return setVisible(\"login\")(true);\n\n    if (\n      hasChanges &&\n      !error &&\n      (typeof query.json === \"string\" || typeof query.json === \"undefined\")\n    ) {\n      try {\n        setIsUpdating(true);\n        toast.loading(\"Saving document...\", { id: \"fileSave\" });\n\n        const { data, error } = await documentSvc.upsert({\n          id: query?.json,\n          contents: getContents(),\n          format: getFormat(),\n        });\n\n        if (error) throw error;\n        if (data) replace({ query: { json: data } });\n\n        toast.success(\"Document saved to cloud\", { id: \"fileSave\" });\n        setHasChanges(false);\n      } catch (error: any) {\n        toast.error(error.message, { id: \"fileSave\" });\n      } finally {\n        setIsUpdating(false);\n      }\n    }\n  }, [\n    error,\n    getContents,\n    getFormat,\n    hasChanges,\n    query.json,\n    replace,\n    setHasChanges,\n    setVisible,\n    user,\n  ]);\n\n  const setPrivate = async () => {\n    try {\n      if (!query.json) return handleSaveJson();\n      setIsUpdating(true);\n\n      const { data: updatedJsonData, error } = await documentSvc.update(query.json as string, {\n        private: !isPrivate,\n      });\n\n      if (error) return toast.error(error.message);\n\n      if (updatedJsonData[0]) {\n        setIsPrivate(updatedJsonData[0].private);\n        toast.success(`Document set to ${isPrivate ? \"public\" : \"private\"}.`);\n      } else throw error;\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setIsUpdating(false);\n    }\n  };\n\n  return (\n    <StyledBottomBar>\n      {data?.name && (\n        <Head>\n          <title>{data.name} | JSON Crack</title>\n        </Head>\n      )}\n      <StyledLeft>\n        <StyledBottomBarItem onClick={toggleEditor}>\n          <BiSolidDockLeft />\n        </StyledBottomBarItem>\n\n        {fileName && (\n          <StyledBottomBarItem onClick={() => setVisible(\"cloud\")(true)}>\n            <VscSourceControl />\n            {fileName}\n          </StyledBottomBarItem>\n        )}\n        <StyledBottomBarItem>\n          {error ? (\n            <Popover width=\"auto\" shadow=\"md\" position=\"top\" withArrow>\n              <Popover.Target>\n                <Flex align=\"center\" gap={2}>\n                  <VscError color=\"red\" size={16} />\n                  <Text c=\"red\" fw={500} fz=\"xs\">\n                    Invalid\n                  </Text>\n                </Flex>\n              </Popover.Target>\n              <Popover.Dropdown style={{ pointerEvents: \"none\" }}>\n                <Text size=\"xs\">{error}</Text>\n              </Popover.Dropdown>\n            </Popover>\n          ) : (\n            <Flex align=\"center\" gap={2}>\n              <MdOutlineCheckCircleOutline />\n              <Text size=\"xs\">Valid</Text>\n            </Flex>\n          )}\n        </StyledBottomBarItem>\n        {(data?.owner_email === user?.email || (!data && user)) && (\n          <StyledBottomBarItem onClick={handleSaveJson} disabled={isUpdating || error}>\n            {hasChanges || !user ? <AiOutlineCloudUpload /> : <AiOutlineCloudSync />}\n            {hasChanges || !user ? (query?.json ? \"Unsaved Changes\" : \"Save to Cloud\") : \"Saved\"}\n          </StyledBottomBarItem>\n        )}\n        {data?.owner_email === user?.email && (\n          <StyledBottomBarItem onClick={setPrivate} disabled={isUpdating}>\n            {isPrivate ? <AiOutlineLock /> : <AiOutlineUnlock />}\n            {isPrivate ? \"Private\" : \"Public\"}\n          </StyledBottomBarItem>\n        )}\n        <StyledBottomBarItem\n          onClick={() => setVisible(\"share\")(true)}\n          disabled={isPrivate || !data}\n        >\n          <AiOutlineLink />\n          Share\n        </StyledBottomBarItem>\n        {liveTransformEnabled ? (\n          <StyledBottomBarItem\n            onClick={() => {\n              toggleLiveTransform(false);\n              gaEvent(\"Bottom Bar\", \"toggle live transform\", \"manual\");\n            }}\n          >\n            <VscSync />\n            <Text fz=\"xs\">Live Transform</Text>\n          </StyledBottomBarItem>\n        ) : (\n          <StyledBottomBarItem\n            onClick={() => {\n              toggleLiveTransform(true);\n              gaEvent(\"Bottom Bar\", \"toggle live transform\", \"live\");\n            }}\n          >\n            <VscSyncIgnored />\n            <Text fz=\"xs\">Manual Transform</Text>\n          </StyledBottomBarItem>\n        )}\n        {!liveTransformEnabled && (\n          <StyledBottomBarItem onClick={() => setContents({})}>\n            <TbTransform />\n            Transform\n          </StyledBottomBarItem>\n        )}\n      </StyledLeft>\n\n      <StyledRight>\n        <StyledBottomBarItem>Nodes: {nodeCount}</StyledBottomBarItem>\n        <StyledBottomBarItem onClick={() => setVisible(\"review\")(true)}>\n          <VscFeedback />\n          Feedback\n        </StyledBottomBarItem>\n      </StyledRight>\n    </StyledBottomBar>\n  );\n};\n","import React from \"react\";\nimport dynamic from \"next/dynamic\";\nimport Head from \"next/head\";\nimport { useRouter } from \"next/router\";\nimport { useMantineColorScheme } from \"@mantine/core\";\nimport styled, { ThemeProvider } from \"styled-components\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { darkTheme, lightTheme } from \"src/constants/theme\";\nimport { Editor } from \"src/containers/Editor\";\nimport { BottomBar } from \"src/containers/Editor/BottomBar\";\nimport { Toolbar } from \"src/containers/Toolbar\";\nimport useConfig from \"src/store/useConfig\";\nimport useFile from \"src/store/useFile\";\n\nconst ModalController = dynamic(() => import(\"src/layout/ModalController\"));\nconst ExternalMode = dynamic(() => import(\"src/layout/ExternalMode\"));\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n      retry: false,\n    },\n  },\n});\n\nexport const StyledPageWrapper = styled.div`\n  height: calc(100vh - 27px);\n  width: 100%;\n\n  @media only screen and (max-width: 320px) {\n    height: 100vh;\n  }\n`;\n\nexport const StyledEditorWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n`;\n\nconst EditorPage = () => {\n  const { query, isReady } = useRouter();\n  const { setColorScheme } = useMantineColorScheme();\n  const checkEditorSession = useFile(state => state.checkEditorSession);\n  const darkmodeEnabled = useConfig(state => state.darkmodeEnabled);\n\n  React.useEffect(() => {\n    if (isReady) checkEditorSession(query?.json);\n  }, [checkEditorSession, isReady, query]);\n\n  React.useEffect(() => {\n    setColorScheme(darkmodeEnabled ? \"dark\" : \"light\");\n  }, [darkmodeEnabled, setColorScheme]);\n\n  return (\n    <>\n      <Head>\n        <title>Editor | JSON Crack</title>\n        <link rel=\"canonical\" href=\"https://jsoncrack.com/editor\" />\n      </Head>\n      <ThemeProvider theme={darkmodeEnabled ? darkTheme : lightTheme}>\n        <QueryClientProvider client={queryClient}>\n          <ExternalMode />\n          <ModalController />\n          <StyledEditorWrapper>\n            <StyledPageWrapper>\n              <Toolbar />\n              <StyledEditorWrapper>\n                <Editor />\n              </StyledEditorWrapper>\n            </StyledPageWrapper>\n            <BottomBar />\n          </StyledEditorWrapper>\n        </QueryClientProvider>\n      </ThemeProvider>\n    </>\n  );\n};\n\nexport default EditorPage;\n"],"names":["window","__NEXT_P","push","__webpack_require__","StyledEditor","styled","Allotment","theme","param","BACKGROUND_SECONDARY","TextEditor","dynamic","Promise","all","e","then","bind","ssr","LiveEditor","Editor","fullscreen","useGraph","state","jsx_runtime","jsxs","proportionalLayout","jsx","Pane","preferredSize","minSize","maxSize","visible","StyledBottomBar","div","withConfig","BACKGROUND_MODIFIER_ACCENT","TOOLBAR_BG","StyledLeft","StyledRight","StyledBottomBarItem","button","INTERACTIVE_NORMAL","$bg","INTERACTIVE_HOVER","BottomBar","query","replace","useRouter","data","useFile","fileData","user","useUser","toggleLiveTransform","useConfig","liveTransformEnabled","hasChanges","error","getContents","setContents","nodeCount","nodes","length","fileName","name","toggleFullscreen","setVisible","useModal","setHasChanges","getFormat","isPrivate","setIsPrivate","React","isUpdating","setIsUpdating","private","handleSaveJson","json","toast","loading","id","documentSvc","upsert","contents","format","success","message","setPrivate","updatedJsonData","update","concat","console","Head","title","onClick","gaEvent","BiSolidDockLeft","VscSourceControl","Popover","width","shadow","position","withArrow","Target","Flex","align","gap","VscError","color","size","Text","c","fw","fz","Dropdown","style","pointerEvents","MdOutlineCheckCircleOutline","owner_email","email","disabled","AiOutlineCloudUpload","AiOutlineCloudSync","AiOutlineLock","AiOutlineUnlock","AiOutlineLink","VscSync","VscSyncIgnored","TbTransform","VscFeedback","ModalController","ExternalMode","queryClient","QueryClient","defaultOptions","queries","refetchOnWindowFocus","retry","StyledPageWrapper","StyledEditorWrapper","editor","isReady","setColorScheme","useMantineColorScheme","checkEditorSession","darkmodeEnabled","Fragment","link","rel","href","ThemeProvider","darkTheme","lightTheme","QueryClientProvider","client","Toolbar"],"sourceRoot":""}